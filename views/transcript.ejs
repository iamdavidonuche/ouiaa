<%- include("partials/header.ejs", {title: "transcript"}) %>

    <main class="transcript-main">
      <div class="container">
        <!-- Header -->
        <div class="page-header">
          <div class="header-content">
            <i class="fas fa-file-text"></i>
            <h1>Transcript Services</h1>
          </div>
          <p>
            Request official and unofficial transcripts quickly and securely.
            Track your requests and download available documents.
          </p>
        </div>

        <!-- Tabs -->
        <div class="transcript-tabs">
          <div class="tab-nav">
            <button class="tab-btn active" onclick="showTab('request')">
              New Request
            </button>
            <button class="tab-btn" onclick="showTab('history')">
              Request History
            </button>
            <button class="tab-btn" onclick="showTab('info')">
              Information
            </button>
          </div>

          <!-- New Request Tab -->
          <div class="tab-content active" id="requestTab">
            <form
              class="transcript-form"
              onsubmit="handleTranscriptRequest(event)"
            >
              <!-- Request Type -->
              <div class="form-section">
                <h3>Request Type</h3>
                <div class="request-types">
                  <label class="request-type-card">
                    <input
                      type="radio"
                      name="requestType"
                      value="official"
                      checked
                    />
                    <div class="card-content">
                      <h4>Official Transcript</h4>
                      <p>
                        Sealed, official transcript for applications,
                        employment, or other official purposes.
                      </p>
                      <div class="price">₦2,000 per copy</div>
                    </div>
                  </label>

                  <label class="request-type-card">
                    <input type="radio" name="requestType" value="unofficial" />
                    <div class="card-content">
                      <h4>Unofficial Transcript</h4>
                      <p>
                        Unofficial copy for personal records or preliminary
                        applications.
                      </p>
                      <div class="price free">Free</div>
                    </div>
                  </label>
                </div>
              </div>

              <!-- Request Details -->
              <div class="form-section">
                <div class="form-row">
                  <div class="form-group">
                    <label for="copies">Number of Copies</label>
                    <select id="copies" name="copies" onchange="updateTotal()">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                    </select>
                  </div>

                  <div class="form-group">
                    <label for="deliveryMethod">Delivery Method</label>
                    <select
                      id="deliveryMethod"
                      name="deliveryMethod"
                      onchange="updateTotal(); toggleAddressFields()"
                    >
                      <option value="email">Email (PDF)</option>
                      <option value="mail">Regular Mail</option>
                      <option value="express">Express Mail (+₦3,000)</option>
                      <option value="pickup">Campus Pickup</option>
                    </select>
                  </div>
                </div>
              </div>

              <!-- Recipient Information -->
              <div class="form-section">
                <h3>Recipient Information</h3>
                <div class="form-row">
                  <div class="form-group">
                    <label for="recipientName">Recipient Name *</label>
                    <input
                      type="text"
                      id="recipientName"
                      name="recipientName"
                      required
                      placeholder="Institution or individual name"
                    />
                  </div>

                  <div class="form-group" id="emailGroup">
                    <label for="recipientEmail">Email Address *</label>
                    <input
                      type="email"
                      id="recipientEmail"
                      name="recipientEmail"
                      required
                      placeholder="recipient@example.com"
                    />
                  </div>
                </div>

                <div id="addressFields" style="display: none">
                  <div class="form-group">
                    <label for="recipientAddress">Address *</label>
                    <input
                      type="text"
                      id="recipientAddress"
                      name="recipientAddress"
                      placeholder="Street address"
                    />
                  </div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="recipientCity">City *</label>
                      <input
                        type="text"
                        id="recipientCity"
                        name="recipientCity"
                      />
                    </div>
                    <div class="form-group">
                      <label for="recipientState">State *</label>
                      <input
                        type="text"
                        id="recipientState"
                        name="recipientState"
                      />
                    </div>
                    <div class="form-group">
                      <label for="recipientZip">ZIP Code *</label>
                      <input
                        type="text"
                        id="recipientZip"
                        name="recipientZip"
                      />
                    </div>
                  </div>
                </div>
              </div>

              <!-- Additional Information -->
              <div class="form-section">
                <div class="form-group">
                  <label for="purpose">Purpose (Optional)</label>
                  <textarea
                    id="purpose"
                    name="purpose"
                    rows="3"
                    placeholder="e.g., Graduate school application, Employment verification"
                  ></textarea>
                </div>
              </div>

              <!-- Submit -->
              <div class="form-submit">
                <div class="total-cost">
                  Total: <span id="totalCost">₦2,000</span>
                </div>
                <button type="submit" class="btn-submit">Submit Request</button>
              </div>
            </form>
          </div>

          <!-- Request History Tab -->
          <div class="tab-content" id="historyTab">
            <h3>Request History</h3>
            <div class="history-list">
              <div class="history-item">
                <div class="history-header">
                  <span class="request-id">TR001</span>
                  <span class="status-badge delivered">Delivered</span>
                </div>
                <div class="history-details">
                  <div class="detail-row">
                    <span class="label">Date:</span>
                    <span>2024-01-15</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Type:</span>
                    <span>Official Transcript</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Recipient:</span>
                    <span>Graduate School Application</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Delivery:</span>
                    <span>Email</span>
                  </div>
                </div>
                <div class="history-actions">
                  <i class="fas fa-check-circle status-icon delivered"></i>
                  <button class="btn-download">
                    <i class="fas fa-download"></i>
                  </button>
                </div>
              </div>

              <div class="history-item">
                <div class="history-header">
                  <span class="request-id">TR002</span>
                  <span class="status-badge processing">Processing</span>
                </div>
                <div class="history-details">
                  <div class="detail-row">
                    <span class="label">Date:</span>
                    <span>2024-01-10</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Type:</span>
                    <span>Official Transcript</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Recipient:</span>
                    <span>Employment Verification</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Delivery:</span>
                    <span>Mail</span>
                  </div>
                </div>
                <div class="history-actions">
                  <i class="fas fa-clock status-icon processing"></i>
                </div>
              </div>

              <div class="history-item">
                <div class="history-header">
                  <span class="request-id">TR003</span>
                  <span class="status-badge delivered">Delivered</span>
                </div>
                <div class="history-details">
                  <div class="detail-row">
                    <span class="label">Date:</span>
                    <span>2023-12-20</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Type:</span>
                    <span>Unofficial Transcript</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Recipient:</span>
                    <span>Personal Records</span>
                  </div>
                  <div class="detail-row">
                    <span class="label">Delivery:</span>
                    <span>Download</span>
                  </div>
                </div>
                <div class="history-actions">
                  <i class="fas fa-check-circle status-icon delivered"></i>
                  <button class="btn-download">
                    <i class="fas fa-download"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Information Tab -->
          <div class="tab-content" id="infoTab">
            <div class="info-sections">
              <div class="info-section">
                <h3>Transcript Information</h3>

                <h4>Processing Times:</h4>
                <ul>
                  <li>Official Transcripts: 3-5 business days</li>
                  <li>Unofficial Transcripts: Immediate download</li>
                  <li>Express Delivery: 1 business day</li>
                </ul>

                <h4>Fees:</h4>
                <ul>
                  <li>Official Transcript: ₦2,000 per copy</li>
                  <li>Unofficial Transcript: Free</li>
                  <li>Express Mail: Additional ₦3,000</li>
                </ul>

                <h4>Important Notes:</h4>
                <ul>
                  <li>
                    Official transcripts are sealed and cannot be opened by the
                    recipient
                  </li>
                  <li>Unofficial transcripts are for personal use only</li>
                  <li>
                    All requests must be made by the student or with written
                    authorization
                  </li>
                  <li>Hold on account may delay processing</li>
                </ul>
              </div>

              <div class="help-section">
                <h4>Need Help?</h4>
                <p>
                  Contact our Registrar's Office for assistance with transcript
                  requests.
                </p>
                <div class="contact-info">
                  <p><strong>Phone:</strong> +234 (0) 803 123 4567</p>
                  <p><strong>Email:</strong> registrar@oduduwa.edu.ng</p>
                  <p>
                    <strong>Hours:</strong> Monday-Friday, 8:00 AM - 5:00 PM
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <%- include("partials/footer.ejs") %>

    <script src="js/script.js"></script>
  </body>
</html>
